---
sidebar: sidebar 
permalink: xcp/xcp-bp-file-analytics.html 
keywords: file analytics, rest api, gui, nas, nfs, smb systemtl, postgres, dashboard, stats, xcp scan, match, filter 
summary: 'L"interface graphique d"analytique des fichiers XCP de NetApp permet d"exécuter des analyses du système de fichiers en utilisant XCP au niveau du back-end et de visualiser des statistiques, telles que des graphiques et des vues, pour tout système de fichiers NAS (NFS, SMB).' 
---
= Analytique des fichiers
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./../media/


link:xcp-bp-migration-workflow-overview.html["Précédent : flux de travail de migration."]

[role="lead"]
L'interface graphique d'analytique des fichiers XCP de NetApp permet d'exécuter des analyses du système de fichiers en utilisant XCP au niveau du back-end et de visualiser des statistiques, telles que des graphiques et des vues, pour tout système de fichiers NAS (NFS, SMB). À partir de 1.6, XCP peut être exécuté en tant que service à l'aide d'étapes de déploiement simples en utilisant les options Configure et systemctl. L'option XCP Configure vous guide pour installer et configurer Postgres et un serveur Web ainsi que pour collecter des informations d'identification. L'option systemctl exécute XCP en tant que service pour les communications API REST à partir de l'interface utilisateur graphique.

La figure suivante illustre le flux d'analytique du fichier XCP.

image:xcp-bp_image6.png["Erreur : image graphique manquante"]


NOTE: Pour plus d'informations sur l'architecture de haut niveau de l'analytique des fichiers XCP, des vues de tableau de bord basées sur l'interface graphique, telles que les statistiques et les détails de la vue de distribution de fichiers, consultez le bulletin de blog https://blog.netapp.com/xcp-data-migration-software["NetApp XCP 1.6 offre des fonctionnalités d'analytique des fichiers ouverts et d'amélioration de l'infrastructure"^].

Il existe une interface graphique limitée dans XCP 1.6 pour les graphiques personnalisés. Pour créer les graphiques requis, vous pouvez utiliser l'interface de ligne de commandes pour exécuter le `xcp` commande de numérisation avec filtres correspondants. Voir les exemples suivants.

. Générez une liste de fichiers modifiés au-delà d'un an en utilisant `xcp scan` et le `-match` filtrer avec l'espace utilisé.
+
....
[root@ch-vm-cent7-2 linux]# ./xcp scan -match "modified > 1*year" -l -q 192.168.89.110:/ifs/data_for_analysis  > modified_morethan_year
XCP 1.6P1; (c) 2020 NetApp, Inc.; Licensed to Karthikeyan Nagalingam [NetApp Inc] until Wed Sep  9 13:19:35 2020
 
xcp: WARNING: CPU count is only 1!
 
Filtered: 1 did not match
 
Xcp command : xcp scan -match modified > 1*year -l -q 192.168.89.110:/ifs/data_for_analysis
5,055 scanned, 5,054 matched, 0 error
Speed       : 1.10 MiB in (510 KiB/s), 110 KiB out (49.5 KiB/s)
Total Time  : 2s.
STATUS      : PASSED
[root@ch-vm-cent7-2 linux]#
[root@ch-vm-cent7-2 linux]# cat modified_morethan_year
 rwxr-xr-x --- 7056 503        0     512  7y99d data_for_analysis/benchmarks/benchmarks/udf_TOBAGandTOTUPLE_7_benchmark.out/6/_SUCCESS
 rwxr-xr-x --- 7056 503      270 8.50KiB  7y99d data_for_analysis/benchmarks/benchmarks/udf_TOBAGandTOTUPLE_7_benchmark.out/6/part-r-00000
 rw-r--r-- --- 7056 503        0     512  7y58d data_for_analysis/benchmarks/benchmarks/udf_TOBAGandTOTUPLE_7_benchmark.out/6/SUCCESS.crc
 rw-r--r-- --- 7056 503      270 8.50KiB  7y99d data_for_analysis/benchmarks/benchmarks/udf_TOBAGandTOTUPLE_7_benchmark.out/6/out_original
 rw-r--r-- --- 7056 503      270 8.50KiB  7y99d data_for_analysis/benchmarks/benchmarks/udf_TOBAGandTOTUPLE_7_benchmark.out/6/out_sorted
 rwxr-xr-x --- 7056 503        0     512  7y99d data_for_analysis/benchmarks/benchmarks/udf_TOBAGandTOTUPLE_7_benchmark.out/2/_SUCCESS
 rwxr-xr-x --- 7056 503       90 8.50KiB  7y99d data_for_analysis/benchmarks/benchmarks/udf_TOBAGandTOTUPLE_7_benchmark.out/2/part-r-00000
…
< console output removed due o page space size >
…
....
. Trouvez l'espace utilisé par les fichiers qui ont plus d'un an.
+
....
[root@ch-vm-cent7-2 linux]# ./xcp -du -match "modified > 1*year"  192.168.89.110:/ifs/data_for_analysis/
XCP 1.6.1; (c) 2020 NetApp, Inc.; Licensed to Karthikeyan Nagalingam [NetApp Inc] until Wed Sep  9 13:19:35 2020
xcp: WARNING: CPU count is only 1!
52.5KiB data_for_analysis/benchmarks/benchmarks/Macro_Scope_1_benchmark.out
28.5KiB data_for_analysis/benchmarks/benchmarks/CollectedGroup_6_benchmark.out
28.5KiB data_for_analysis/benchmarks/benchmarks/Foreach_11_benchmark.out
 153KiB data_for_analysis/benchmarks/benchmarks/SecondarySort_9_benchmark.out
 412KiB data_for_analysis/benchmarks/benchmarks/CoGroupFlatten_6_benchmark.out
 652KiB data_for_analysis/benchmarks/benchmarks/Iterator_1_benchmark.out
 652KiB data_for_analysis/benchmarks/benchmarks/LoaderDefaultDir_1_benchmark.out
 652KiB data_for_analysis/benchmarks/benchmarks/Order_4_benchmark.out
28.5KiB data_for_analysis/benchmarks/benchmarks/MapPartialAgg_4_benchmark.out/2
28.5KiB data_for_analysis/benchmarks/benchmarks/CastScalar_11_benchmark.out/2
1.29MiB data_for_analysis/benchmarks/benchmarks/Order_18_benchmark.out
 652KiB data_for_analysis/benchmarks/benchmarks/FilterBoolean_5_benchmark.out
20.5KiB data_for_analysis/benchmarks/benchmarks/Macro_DefinitionAndInline_5_benchmark.out/2
 628KiB data_for_analysis/benchmarks/benchmarks/Types_29_benchmark.out
…
< console output removed due o page space size >
…
3.18MiB data_for_analysis/benchmarks/benchmarks/hadoop10
 340KiB data_for_analysis/benchmarks/benchmarks/Split_5_benchmark.out
5.90GiB data_for_analysis/benchmarks/benchmarks
6.56GiB data_for_analysis/benchmarks
6.56GiB data_for_analysis

Filtered: 488 did not match

Xcp command : xcp -du -match modified > 1*year 192.168.89.110:/ifs/data_for_analysis/
Stats       : 5,055 scanned, 4,567 matched
Speed       : 1.10 MiB in (1.36 MiB/s), 110 KiB out (135 KiB/s)
Total Time  : 0s.
STATUS      : PASSED
[root@ch-vm-cent7-2 linux]#
....
. Trouvez la taille totale et la vue graphique des données modifiées il y a plus d'un an.
+
....
[root@ch-vm-cent7-2 linux]# ./xcp -stats -match "modified > 1*year" -html  192.168.89.110:/ifs/data_for_analysis/ > modified_morethan_year_stats.html
XCP 1.6.1; (c) 2020 NetApp, Inc.; Licensed to Karthikeyan Nagalingam [NetApp Inc] until Wed Sep  9 13:19:35 2020

xcp: WARNING: CPU count is only 1!

Xcp command : xcp -stats -match modified > 1*year -html 192.168.89.110:/ifs/data_for_analysis/
Stats       : 5,055 scanned, 4,567 matched
Speed       : 1.10 MiB in (919 KiB/s), 110 KiB out (89.1 KiB/s)
Total Time  : 1s.
STATUS      : PASSED
[root@ch-vm-cent7-2 linux]#
....


Le rapport suivant est un exemple personnalisé d'analyse des fichiers qui ont été modifiés il y a plus d'un an.

image:xcp-bp_image7.png["Erreur : image graphique manquante"]

link:xcp-bp-deployment-steps.html["Ensuite, étapes du déploiement."]
